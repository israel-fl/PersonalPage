{% extends "main/index.html" %} {% block landing %}
<!-- <div role="tabpanel" class="tab-pane active" id="land">
    <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"> -->
    <div class="main">
        <div class="landing">
            <div class="row">
                <img src="https://k2.healthcarepracticeit.com/vsaPres/glacier/images/offsite_logo.png">
                <h1>AWS Glacier Backups</h1>
            </div>
        </div>
        <hr></hr>
        <div class="row">
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <div class="row">
                            <i class="material-icons md-56">backup</i>
                            <div class="huge">Upload</div>
                        </div>
                    </div>
                    <a href="{{ url_for('upload') }}">
                        <div class="panel-footer">
                            <span class="pull-left">Schedule</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-green">
                    <div class="panel-heading">
                        <div class="row">
                            <i class="material-icons md-56">file_download</i>
                            <div class="huge">Retrieve</div>
                        </div>
                    </div>
                    <a href="{{ url_for('begin_retrieval') }}">
                        <div class="panel-footer">
                            <span class="pull-left">Schedule</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-yellow">
                    <div class="panel-heading">
                        <div class="row">
                            <i class="material-icons md-56">archive</i>
                            <div class="huge">Archives</div>
                        </div>
                    </div>
                    <a href="{{ url_for('get_archives') }}">
                        <div class="panel-footer">
                            <span class="pull-left">View Details</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-red">
                    <div class="panel-heading">
                        <div class="row">
                            <i class="material-icons md-56">settings</i>
                            <div class="huge">Configure</div>
                        </div>
                    </div>
                    <a href="{{ url_for('add_new_organization') }}">
                        <div class="panel-footer">
                            <span class="pull-left">View Details</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <hr></hr>
        <h3>Upload Requests</h3>
        <div class="table-responsive">
            <table id="archives" class="display" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>Machine</th>
                        <th>Organization</th>
                        <th>Date</th>
                        <th>Success</th>
                        <th>Archive ID</th>
                    </tr>
                </thead>
            </table>
        </div>
        <hr></hr>
        <h3 class="sub-header">Retrieval Requests</h3>
        <div class="table-responsive">
            <table id="retrievals" class="display" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>Machine</th>
                        <th>Organization</th>
                        <th>Date</th>
                        <th>Success</th>
                        <th>Archive ID</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
<!-- </div> -->

<script type="text/javascript">

$(document).ready(function() {
    $('#archives').DataTable( {
        "processing": true,
        data: {{ archives|safe }},
        "iDisplayLength": 5,
        "columns": [
            { "data": "name", sDefaultContent: "N/A"},
            { "data": "organization", sDefaultContent: "N/A" },
            { "data": "date", sDefaultContent: "N/A"},
            { "data": "status", sDefaultContent: "N/A" },
            { "data": "archive_id", sDefaultContent: "N/A"},
        ]
   });
});

$(document).ready(function() {
    $('#retrievals').DataTable( {
        "processing": true,
        data: {{ retrievals|safe }},
        "iDisplayLength": 5,
        "columns": [
            { "data": "name", sDefaultContent: "N/A"},
            { "data": "organization", sDefaultContent: "N/A" },
            { "data": "date", sDefaultContent: "N/A"},
            { "data": "status", sDefaultContent: "N/A" },
            { "data": "archive_id", sDefaultContent: "N/A"},
        ]
   });
});

</script>
{% endblock %}
